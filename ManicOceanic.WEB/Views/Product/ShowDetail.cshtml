
@model ManicOceanic.WEB.Models.ProductDetailViewModel
@{
    ViewData["Title"] = "ShowDetail";
}

<h1>@Model.Product.Name</h1>



<div class="row">
    <div class="col-sm-6"><img src="@Model.Product.ImageUrl" alt="@Model.Product.Name" class="img-rounded" width="350"></div>
    <div class="col-sm-6">
        <p>@Model.Product.Description</p>
        <div>Price: @Model.Product.Price</div>
        <div>Items in stock: @Model.Product.Stock</div>
        <div class="btn-cart" data-product-Count="@Model.Product.Stock">
            @Html.ActionLink("Add to cart", "OrderNow", "ProductCart", new { id = @Model.Product.Id }, null)
        </div>
    </div>
</div>

@section Scripts
{
    <script>
        $(document).ready(function() {
            $(".btn-cart").each(function () {
                var stock = $(this).data("productCount");
                if (stock == 0) {
                    var txt = "Out of order!";
                    $(this).css('color', 'red');
                    $(this).html(txt);
                }
            });
        });
    </script>
}
